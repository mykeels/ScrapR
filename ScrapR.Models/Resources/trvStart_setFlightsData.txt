function setFlightData(a){"string"==typeof a&&(a=JSON.parse(a));var b=angular.element($(".search-form__row")[0]).scope(),c=b.$parent.searchFormController;c.searchData.tripType=a.tripType;for(var d=0;d<a.itineraries.length;d++)c.searchData.itineraries[d]||(c.addFlight(),b.$apply()),c.searchData.itineraries[d].departDate=a.itineraries[d].departDate,c.searchData.itineraries[d].returnDate=a.itineraries[d].returnDate,c.searchData.itineraries[d].destination=a.itineraries[d].destination,c.searchData.itineraries[d].origin=a.itineraries[d].origin;return c.searchData.travellers=a.travellers,b.$apply(),loopSlow(a.itineraries,function(a,c){$(".clear-field__icon")[0].click(),setLocationElem(a,c%2==0?1:0,c),setLocationElem(a,c%2==0?0:1,c),$(".clear-field__icon")[0].click(),b.$apply()},0,function(){$(".clear-field__icon")[0].click(),c.submitSearch(),console.log("submitSearch")}),JSON.stringify(c.searchData)}function setLocationElem(a,b,c){console.log(2*c+b);var e=(angular.element($(".clear-field__icon")[2*c+b]).triggerHandler("mousedown"),angular.element($('[ng-mouseenter="selectActive($index)"]')[0]));e.scope().match.label=0==b?a.origin:a.destination,e.scope().match.model=0==b?a.origin:a.destination,e.scope().$parent.selectMatch(0)}function loopSlow(a,b,c,d){if(c=c||0,c<a.length){try{b(a[c],c)}catch(a){d()}setTimeout(function(){loopSlow(a,b,c+1,d)},1500)}else d()}function getAirlineScopeFnKeys(a){var b=[];for(var c in a)"function"==typeof a[c]&&0!=c.indexOf("$")&&"constructor"!=c&&b.push(c);return b}function getAirlineScopeItineraries(){try{for(var a=[],b=$(".ts-itin__airline"),c=0;c<b.length;c++){for(var d=b[c],e=angular.element(d).scope(),f=getAirlineScopeFnKeys(e),g=0;g<f.length;g++){var h=f[g];e.itinerary[h]=e[h]()}a.push(e.itinerary)}return JSON.stringify(a)}catch(a){return alert(JSON.stringify(a)),"[]"}}function selectAirlineItinerary(a){var b=angular.element($(".flight-details__continue")[0]).scope(),c=b.flightDetailsController;c.selectedItinerary=a,c.priceItinerary({itin:a})}window.onerror=function(a,b,c,d,e){var f=d?"\ncolumn: "+d:"";f+=e?"\nerror: "+e:"",alert("Error: "+a+"\nurl: "+b+"\nline: "+c+f);var g=!0;return g};